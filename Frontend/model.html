<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS bổ sung cho các class mới */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .page-btn {
            padding: 8px 12px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .page-btn.active {
            background: #6C63FF;
            color: white;
            border-color: #6C63FF;
        }
        
        .page-btn:hover:not(.active) {
            border-color: #6C63FF;
        }
        
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        #results-section {
            display: none; /* Ẩn ban đầu */
        }
    </style>
    <title>Image search</title>
</head>
<body>
  <div id="header"></div>
<!--Middle-->
<main>
    <!-- Training -->
    <section class="training-section" id="training-section">
        <div class="container">
          <div class="section-header">
            <h3>Thử nghiệm mô hình</h3>
            <p>Tải lên hình ảnh để tìm các ảnh tương tự trong tập dữ liệu.</p>
            <small class="muted">
            <span id="backend" style="display: none;">(chưa cấu hình) </span></small>
          </div>

          <div class="training-interface">
            <!-- Khu thả/chọn ảnh -->
            <div
              class="upload-zone"
              id="drop"
              tabindex="0"
              aria-label="Kéo & thả hoặc nhấp để chọn ảnh"
            >
              <i class="fas fa-cloud-upload-alt" style="font-size: 28px"></i>
              <p>Kéo và thả hình ảnh vào đây hoặc nhấp để duyệt</p>
              <input type="file" id="file" accept="image/*" hidden />
            </div>

            <!-- Xem trước -->
            <div class="preview" id="preview">
              <img id="previewImg" alt="Xem trước ảnh đã chọn" />
            </div>

            <!-- Điều khiển -->
            <div class="controls-row">
              <button class="btn" id="btnPick">
                <i class="fa-solid fa-folder-open"></i> Chọn ảnh
              </button>
              <button class="btn primary" id="btnSearch" disabled>
                <i class="fas fa-robot"></i> Start search
              </button>
              <button class="btn" id="btnClear">
                <i class="fa-solid fa-eraser"></i> Xoá
              </button>
            </div>

            <!-- Lỗi -->
            <div class="err" id="err"></div>
          </div>
        </div>
    </section>

    <!-- Results -->
    <section class="results-section" id="results-section">
        <div class="container">
          <div class="section-header">
            <h3>Kết quả</h3>
            <div class="filter-options">
              <button class="filter-btn action" id="btnImg">Ảnh</button>
              <button class="filter-btn" id="btnInfo">Thông tin</button>
            </div>
          </div>      
          <div class="tab-content active" id="resultsTab">
              <div class="result-grid" id="results"></div>
          </div>
          
          <div class="tab-content" id="infoTab">
              <div id="metaBox" class="metaBox"></div>
          </div>
          
          <div class="load-more" style="display: none">
            <button class="load-more-btn">
              <i class="fas fa-sync"></i>
              Load More
            </button>
          </div>
          
          <!--Đánh số trang-->
          <div class="pagination" id="pagination"></div>
        </div>
    </section>
    <section>
      <button><a href="index.html"></a>Quay lại</button>
    </section>
</main>

<!-- Loading -->
<div class="loading-overlay" id="loading" aria-live="polite" aria-busy="true">
    <div class="card">
        <i class="fa-solid fa-circle-notch fa-spin"></i>
        <span>Đang xử lý…</span>
    </div>
</div>
<div id="footer"></div>
<script src="script.js"></script>
<script src="Layout/layout.js"></script>
</body>
</html>